(()=>{"use strict";class e{constructor(e,t){this.className=e,this.title=t,this.buttonEl=document.createElement("button")}render(){return this.buttonEl.className=this.className,this.buttonEl.innerHTML=this.title,this.buttonEl}disabledBtn(){this.buttonEl.classList.add("disabled")}aciveBtn(){this.buttonEl.classList.remove("disabled")}}let t={sound:!0,results:[],scoreIsActive:!1,durationGame:0,gameStatus:"init",sessionStatus:"init",theme:"light",boardSize:100,numOfMines:10,boardModel:[],minesLeft:10,usedFlags:0,clicks:0,time:0,subscribe:(e,s)=>{t.subscribeList.push({propertyName:e,callback:s})},subscribeList:[],setProperty:(e,s)=>{t[e]=s,t.subscribeList.filter((t=>t.propertyName===e)).forEach((e=>{e.callback()}))}};class s{constructor(e){this.index=e,this.isMined=!1,this.isClose=!0,this.numberInCell=0,this.isFlag=!1}setIsClose(e){this.isClose=e}setIsFlag(e){this.isFlag=e}}const l=()=>{const e=JSON.parse(localStorage.getItem("state"));if(!e)return null;for(let t=0;t<e.boardModel.length;t+=1)for(let l=0;l<e.boardModel[t].length;l+=1){let i=e.boardModel[t][l],n=new s(i.index);n.isMined=i.isMined,n.isClose=i.isClose,n.numberInCell=i.numberInCell,n.isFlag=i.isFlag,e.boardModel[t][l]=n}return e},i=()=>{localStorage.setItem("state",JSON.stringify(t))};class n{constructor(e){this.className=e}render(){const e=document.createElement("div");e.className=this.className;const s=document.createElement("input");s.setAttribute("name","balance"),s.setAttribute("type","radio"),s.setAttribute("id","light"),s.setAttribute("value","light"),s.className="switcher-input light",e.appendChild(s);const l=document.createElement("label");l.setAttribute("for","light"),l.className="switcher-label light-btn",l.innerHTML="light",e.appendChild(l),l.addEventListener("click",(()=>{t.setProperty("theme","light"),i()}));const n=document.createElement("input");n.setAttribute("name","balance"),n.setAttribute("type","radio"),n.setAttribute("id","dark"),n.setAttribute("value","dark"),n.className="switcher-input dark",e.appendChild(n);const a=document.createElement("label");a.setAttribute("for","dark"),a.className="switcher-label dark-btn",a.innerHTML="dark",e.appendChild(a),a.addEventListener("click",(()=>{t.setProperty("theme","dark"),i()})),"dark"===t.theme?n.setAttribute("checked",!0):"light"===t.theme&&s.setAttribute("checked",!0);const r=document.createElement("span");return r.className="switcher-toggle",e.appendChild(r),e}}const a=e=>{let t=e.target;"range"!==e.target.type&&(t=document.getElementById("range"));const s=t.min,l=t.max,i=t.value;t.style.backgroundSize=100*(i-s)/(l-s)+"% 100%"};class r{constructor(e){this.className=e,this.quantityInputEl=document.createElement("input")}render(){const e=document.createElement("div");e.className=this.className;const s=document.createElement("div");s.className="label",s.innerText="Mines",e.appendChild(s);const l=document.createElement("input");l.setAttribute("type","range"),l.setAttribute("value",t.numOfMines),l.setAttribute("min","10"),l.setAttribute("max","99"),l.setAttribute("id","range"),l.setAttribute("oninput","rangevalue.value=value"),l.setAttribute("style",`background-size: ${t.numOfMines}% 100%`),l.addEventListener("change",(()=>{t.setProperty("numOfMines",l.value),t.setProperty("minesLeft",l.value),t.setProperty("sessionStatus","startNew"),localStorage.setItem("state",JSON.stringify(t))}));const i=document.createElement("input");return i.setAttribute("type","number"),i.setAttribute("id","rangevalue"),i.setAttribute("value",t.numOfMines),i.setAttribute("oninput","range.value=value"),i.addEventListener("change",(()=>{let e=i.value;e>99&&(e=99),e<10&&(e=10),t.setProperty("numOfMines",e),i.value=e})),e.appendChild(l),e.appendChild(i),l.addEventListener("input",a),i.addEventListener("input",a),e}}class d{constructor(s){this.className=s,this.easyBtnEl=new e("btn","Easy").render(),this.mediumBtnEl=new e("btn","Medium").render(),this.hardBtnEl=new e("btn","Hard").render(),100===t.boardSize?(this.hardBtnEl.classList.remove("active"),this.mediumBtnEl.classList.remove("active"),this.easyBtnEl.classList.add("active")):225===t.boardSize?(this.hardBtnEl.classList.remove("active"),this.mediumBtnEl.classList.add("active"),this.easyBtnEl.classList.remove("active")):625===t.boardSize&&(this.hardBtnEl.classList.add("active"),this.mediumBtnEl.classList.remove("active"),this.easyBtnEl.classList.remove("active")),this.easyBtnEl.addEventListener("click",(()=>{t.setProperty("boardSize",100),t.setProperty("sessionStatus","startNew"),t.setProperty("gameStatus","startNew"),i(),this.easyBtnEl.classList.add("active"),this.hardBtnEl.classList.remove("active"),this.mediumBtnEl.classList.remove("active")})),this.mediumBtnEl.addEventListener("click",(()=>{t.setProperty("boardSize",225),t.setProperty("sessionStatus","startNew"),t.setProperty("gameStatus","startNew"),i(),this.easyBtnEl.classList.remove("active"),this.hardBtnEl.classList.remove("active"),this.mediumBtnEl.classList.add("active")})),this.hardBtnEl.addEventListener("click",(()=>{t.setProperty("boardSize",625),t.setProperty("sessionStatus","startNew"),t.setProperty("gameStatus","startNew"),i(),this.easyBtnEl.classList.remove("active"),this.mediumBtnEl.classList.remove("active"),this.hardBtnEl.classList.add("active")})),this.quantityEl=new r("quantity").render()}render(){const e=document.createElement("div");return e.className=this.className,e.appendChild(this.easyBtnEl),e.appendChild(this.mediumBtnEl),e.appendChild(this.hardBtnEl),e.appendChild(this.quantityEl),e}}class c{constructor(e){this.className=e}render(){const e=document.createElement("div");e.className=this.className;const t=document.createElement("div");t.className="score-inner";const s=document.createElement("div");s.className="score-content";const i=l(),n=document.createElement("div");n.className="score-head";const a=document.createElement("div");a.className="score-date";const r=document.createElement("div");r.className="score-level";const d=document.createElement("div");d.className="score-time";const c=document.createElement("div");if(c.className="score-moves",a.innerText="Date",r.innerText="Level",d.innerText="Time, s",c.innerText="Moves",n.appendChild(a),n.appendChild(r),n.appendChild(d),n.appendChild(c),s.appendChild(n),i&&i.results&&0!==i.results.length)i.results.forEach((e=>{const t=document.createElement("div");t.className="score-item",s.appendChild(t);const l=document.createElement("div");l.innerText=e.date,l.className="date",t.appendChild(l);const i=document.createElement("div");i.innerText=e.level,i.className="level",t.appendChild(i);const n=document.createElement("div");n.innerText=e.time,n.className="time",t.appendChild(n);const a=document.createElement("div");a.innerText=e.moves,a.className="moves",t.appendChild(a)}));else{const e=document.createElement("div");e.innerText="No results",e.className="score-item no-results",s.appendChild(e)}return e.appendChild(t),t.appendChild(s),e}}class o{constructor(s){this.className=s,this.scoreEl=null,this.newGameBtnEl=new e("btn","New game").render(),this.newGameBtnEl.addEventListener("click",(()=>{t.setProperty("gameStatus","startNew"),t.setProperty("sessionStatus","startNew"),i()}));const n=l();n&&(t.gameStatus=n.gameStatus),this.continueBtnEl=new e("btn continue-btn disabled","Continue").render(),"playng"===t.gameStatus?this.continueBtnEl.classList.remove("disabled"):this.continueBtnEl.classList.add("disabled"),t.subscribe("sessionStatus",(()=>{"init"===t.statusGame?this.continueBtnEl.classList.remove("disabled"):this.continueBtnEl.classList.add("disabled")})),this.continueBtnEl.addEventListener("click",(()=>{t.boardSize=n.boardSize,t.numOfMines=n.numOfMines,t.boardModel=n.boardModel,t.minesLeft=n.minesLeft,t.usedFlags=n.usedFlags,t.clicks=n.clicks,t.time=n.time,t.gameStatus=n.gameStatus,t.scoreIsActive=n.scoreIsActive,t.setProperty("sessionStatus","playng"),t.setProperty("gameStatus","playng"),i(),this.continueBtnEl.classList.add("disabled")})),this.scoreBtnEl=new e("btn statistic-btn","Statistic").render(),this.scoreBtnEl.addEventListener("click",(e=>{if(e.target.classList.contains("score-item"))e.stopPropagation();else{if(this.scoreEl&&this.scoreEl.classList.contains("active"))return this.scoreEl.classList.remove("active"),this.scoreBtnEl.removeChild(this.scoreEl),void t.setProperty("scoreIsActive",!1);t.setProperty("scoreIsActive",!0),this.scoreEl=new c("score active").render(),this.scoreBtnEl.appendChild(this.scoreEl)}})),this.soundBtnEl=document.createElement("img"),this.soundBtnEl.addEventListener("click",(()=>{t.setProperty("sound",!t.sound),i(),this.updateSound()})),t.subscribe("theme",(()=>this.updateSound()))}render(){const e=document.createElement("header");e.className=this.className;const t=document.createElement("div");t.className="container",e.appendChild(t);const s=document.createElement("div");s.className="header-body",t.appendChild(s);const l=document.createElement("div");l.className="header-col",s.appendChild(l),l.appendChild(this.newGameBtnEl),l.appendChild(this.continueBtnEl),l.appendChild(this.scoreBtnEl),l.appendChild(new n("switcher").render()),this.soundBtnEl.className="sound-btn",this.updateSound(),l.appendChild(this.soundBtnEl);const i=document.createElement("div");return i.className="header-col right",s.appendChild(i),i.appendChild(new d("settings").render()),e}updateSound(){t.sound&&"light"===t.theme?this.soundBtnEl.setAttribute("src","./assets/img/speaker-high.svg"):t.sound||"light"!==t.theme?t.sound&&"dark"===t.theme?this.soundBtnEl.setAttribute("src","./assets/img/speaker-high--dark.svg"):t.sound||"dark"!==t.theme||this.soundBtnEl.setAttribute("src","./assets/img/speaker-slash--dark.svg"):this.soundBtnEl.setAttribute("src","./assets/img/speaker-slash.svg"),this.soundBtnEl.setAttribute("width","30")}}class h{constructor(e,s,l,i){this.className=e,this.title=s,this.infoEl=document.createElement("div"),this.valueEl=document.createElement("span"),this.updateValue(l),t.subscribe(i,(()=>this.updateValue(t[i])))}render(){this.infoEl.className=this.className;const e=document.createElement("span");return e.innerHTML=this.title,e.className="info-title",this.infoEl.appendChild(e),this.valueEl.className="info-value",this.infoEl.appendChild(this.valueEl),this.infoEl}updateValue(e){this.valueEl.innerHTML=e.toString().padStart(2,0)}}class u{constructor(e){this.className=e,this.statusMsgEl=document.createElement("p"),t.subscribe("sessionStatus",(()=>{this.render()}))}render(){return this.statusMsgEl.className=this.className,this.statusMsgEl.innerText=this.chooseMsgText(),this.statusMsgEl}chooseMsgText(){let e="";return"init"===t.sessionStatus||"startNew"===t.sessionStatus?e="Welcome! Let's play!":"win"===t.sessionStatus?(e=`Hooray! You found all mines in ${t.duration} seconds and ${t.clicks} moves!`,this.statusMsgEl.classList.remove("lose"),this.statusMsgEl.classList.add("win")):"lose"===t.sessionStatus?(e="Game over. Try again!",this.statusMsgEl.classList.remove("win"),this.statusMsgEl.classList.add("lose")):"playng"===t.sessionStatus&&(e="Game in progress..."),e}}class m{constructor(e){this.className=e,this.moves=new h("info","Moves:",t.clicks,"clicks"),this.minesLeft=new h("info","Mines left:",t.numOfMines,"minesLeft"),this.flags=new h("info","Flags used:",t.usedFlags,"usedFlags"),t.subscribe("gameStatus",(()=>{"continue"===t.gameStatus&&this.updateScreenByContinueGame()}))}render(){const e=document.createElement("div");e.className=this.className;const s=document.createElement("div");s.className="screen-inner",e.appendChild(s);const l=document.createElement("div");l.className="screen-top",s.appendChild(l);const i=document.createElement("div");i.className="screen-column",l.appendChild(i);const n=document.createElement("div");n.className="screen-column",l.appendChild(n);const a=document.createElement("div");return a.className="dog",l.appendChild(a),i.appendChild(this.moves.render()),i.appendChild(new h("info","Time:",t.time,"time").render()),n.appendChild(this.minesLeft.render()),n.appendChild(this.flags.render()),s.appendChild(new u("message").render()),e}updateScreenByContinueGame(){this.moves.updateValue(t.clicks),this.minesLeft.updateValue(t.minesLeft),this.flags.updateValue(t.usedFlags)}}class p{constructor(e,t){this.className=e,this.cellEl=document.createElement("button"),this.cellModel=t}renderCloseCell(){return this.cellEl.className=this.className,this.cellEl.innerHTML="",this.cellEl.classList.add("close-cell"),this.cellEl}renderMinedCell(){this.cellEl.innerHTML="",this.cellEl.className=this.className;const e=document.createElement("img");return e.setAttribute("src","./assets/img/mine.png"),100===t.boardSize?e.setAttribute("width","25"):225===t.boardSize?e.setAttribute("width","20"):625===t.boardSize&&e.setAttribute("width","15"),this.cellEl.appendChild(e),this.cellEl.classList.add("mined"),this.displayAsOpen(),this.cellEl}renderNumberedCell(){this.cellEl.className=this.className,this.cellEl.innerHTML=this.cellModel.numberInCell;let e="";return 1===this.cellModel.numberInCell?e="one":2===this.cellModel.numberInCell?e="two":3===this.cellModel.numberInCell?e="three":4===this.cellModel.numberInCell?e="four":5===this.cellModel.numberInCell?e="five":6===this.cellModel.numberInCell?e="six":7===this.cellModel.numberInCell?e="seven":8===this.cellModel.numberInCell&&(e="eight"),this.cellEl.classList.add(e),this.displayAsOpen(),this.cellEl}renderEmptyCell(){return this.cellEl.className=this.className,this.cellEl.innerHTML="",this.displayAsOpen(),this.cellEl}renderFlagCell(){this.cellEl.innerHTML="",this.cellEl.className=this.className;const e=document.createElement("img");return e.setAttribute("src","./assets/img/flag.svg"),100===t.boardSize?e.setAttribute("width","25"):225===t.boardSize?e.setAttribute("width","20"):625===t.boardSize&&e.setAttribute("width","12"),this.cellEl.classList.add("flag"),this.cellEl.appendChild(e),this.cellEl}displayAsOpen(){this.cellEl.classList.add("open")}renderAsLoser(){this.renderMinedCell(),this.cellEl.classList.add("loser")}renderAsError(){this.renderMinedCell(),this.cellEl.classList.add("error")}}class b{constructor(){this.timerId=null}start(){this.timerId=setInterval((()=>{t.setProperty("time",t.time+=1)}),1e3)}stop(){clearInterval(this.timerId)}restart(e=0){t.setProperty("time",e),this.start()}}const E=(e,s=[])=>((e=>{let s=[];for(let l=0;l<t.boardModel.length;l+=1)for(let i=0;i<t.boardModel[l].length;i+=1){const n=t.boardModel[l][i];e.includes(n.index)&&s.push(n)}return s})((e=>{let s=[];const l=t.boardModel.length,i=e%l,n=Math.floor(e/l),a=i-1>=0,r=i+1<l,d=n-1>=0,c=n+1<l;return a&&d&&s.push(e-l-1),d&&s.push(e-l),r&&d&&s.push(e-l+1),a&&s.push(e-1),r&&s.push(e+1),a&&c&&s.push(e+l-1),c&&s.push(e+l),r&&c&&s.push(e+l+1),s})(e.index)).forEach((t=>{s.includes(t)||(0===e.numberInCell&&s.push(t),0!==t.numberInCell||t.isMined||E(t,s))})),s),g=(e,s=[])=>{if(s.length<t.numOfMines){const i=(0,l=t.boardSize-1,Math.floor(Math.random()*(Math.floor(l)-Math.ceil(0)+1))+Math.ceil(0));s.includes(i)||i===e||s.push(i),g(e,s)}var l;return s};class v{constructor(e){this.className=e,this.cells=[],this.boardEl=document.createElement("div"),this.timer=new b,this.audio=null,this.resultObj={},this.render=this.render.bind(this),this.clearBoard=this.clearBoard.bind(this),t.subscribe("boardModel",(()=>this.render())),t.subscribe("boardSize",(()=>this.startGame())),t.subscribe("numOfMines",(()=>this.startGame())),t.subscribe("gameStatus",(()=>{"playng"===t.gameStatus?this.continueGame():"startNew"===t.gameStatus&&this.startGame()})),this.startGame()}render(){this.clearBoard();const e=t.boardModel;this.boardEl.className=this.className;let s="";if(100===t.boardSize?s="easy":225===t.boardSize?s="medium":625===t.boardSize&&(s="hard"),this.boardEl.classList.add(s),e){this.cells.length=0;for(let t=0;t<e.length;t+=1)for(let s=0;s<e[t].length;s+=1){const l=e[t][s],i=new p("cell",l);let n=null;n=l.isFlag?i.renderFlagCell():i.renderCloseCell(),this.boardEl.appendChild(n);const a=()=>this.handleCellLeftClick(i.cellModel);n.removeEventListener("click",a),n.addEventListener("click",a);const r=e=>this.handleCellRightClick(e,i);n.removeEventListener("contextmenu",r),n.addEventListener("contextmenu",r),this.cells.push(i)}}return this.boardEl}handleCellLeftClick(e){e.isClose&&!e.isFlag&&(t.setProperty("clicks",t.clicks+=1),1===t.clicks&&(t.setProperty("gameStatus","playng"),t.setProperty("sessionStatus","playng"),this.updateBoardModelByFirstMove(e),this.render(),this.timer.stop(),this.timer.start(),i()),t.sound&&this.addSound("./assets/sounds/open.mp3"),this.openCellsByLeftClick(e.index),this.checkIsWin())}updateBoardModelByFirstMove(e){let l=this.cells.filter((e=>e.cellModel.isFlag)).map((e=>e.cellModel.index));(e=>{const l=(e=>{for(let t=0;t<e.length;t+=1)for(let s=0;s<e[t].length;s+=1){let l=e[t][s];l.numberInCell=0,l.isMined||(t>0&&s>0&&e[t-1][s-1].isMined&&(l.numberInCell+=1),t+1<e.length&&e[t+1][s].isMined&&(l.numberInCell+=1),t>0&&e[t-1][s].isMined&&(l.numberInCell+=1),t>0&&s+1<e[t].length&&e[t-1][s+1].isMined&&(l.numberInCell+=1),s>0&&e[t][s-1].isMined&&(l.numberInCell+=1),s+1<e[t].length&&e[t][s+1].isMined&&(l.numberInCell+=1),s>0&&t+1<e.length&&e[t+1][s-1].isMined&&(l.numberInCell+=1),t+1<e.length&&s+1<e[t].length&&e[t+1][s+1].isMined&&(l.numberInCell+=1))}return e})((e=>{const l=g(e),i=t.boardSize,n=Math.sqrt(i),a=new Array(n);for(let e=0;e<a.length;e+=1){a[e]=new Array(n);for(let t=0;t<a[e].length;t+=1){let i=new s(n*e+t);a[e][t]=i,l.includes(a[e][t].index)&&(i.isMined=!0)}}return a})(e));t.setProperty("boardModel",l)})(e.index),t.boardModel.forEach((e=>{e.forEach((e=>{l.includes(e.index)&&e.setIsFlag(!0)}))}))}openCellsByLeftClick(e){const s=this.cells.find((t=>t.cellModel.index===e));s.cellModel.isFlag||(s.cellModel.setIsClose(!1),s.cellModel.isMined?(t.setProperty("gameStatus","lose"),t.setProperty("sessionStatus","lose"),this.gameOverLose(s)):0===s.cellModel.numberInCell?(s.renderEmptyCell(),this.openNeighbourCells(s)):s.renderNumberedCell(s.cellModel))}openNeighbourCells(e){const t=E(e.cellModel);this.cells.filter((e=>t.includes(e.cellModel))).forEach((e=>{e.cellModel.setIsClose(!1),e.cellModel.isFlag?e.renderFlagCell():0===e.cellModel.numberInCell?e.renderEmptyCell():e.renderNumberedCell()}))}checkIsWin(){this.cells.find((e=>e.cellModel.isClose&&!e.cellModel.isMined))||(t.setProperty("gameStatus","win"),t.setProperty("sessionStatus","win"),i(),this.gameOverWin())}handleCellRightClick(e,s){e.preventDefault(),s.cellModel.isClose&&(s.cellModel.isFlag?(s.cellModel.setIsFlag(!1),s.renderCloseCell(),t.setProperty("minesLeft",t.minesLeft+=1),t.setProperty("usedFlags",t.usedFlags-=1)):(s.cellModel.setIsFlag(!0),s.renderFlagCell(),t.setProperty("minesLeft",t.minesLeft-=1),t.setProperty("usedFlags",t.usedFlags+=1)),t.sound&&this.addSound("./assets/sounds/flag.mp3"),i())}startGame(){this.clearBoard(),this.timer.stop(),t.setProperty("time",0),t.subscribe("time",(()=>{i()})),(e=>{const l=new Array(e);for(let t=0;t<l.length;t+=1){l[t]=new Array(e);for(let i=0;i<l[t].length;i+=1){let n=new s(e*t+i);l[t][i]=n}}t.setProperty("boardModel",l)})(Math.sqrt(t.boardSize)),this.render(),t.setProperty("minesLeft",t.numOfMines),t.setProperty("usedFlags",0),t.setProperty("clicks",0)}continueGame(){this.render(),this.cells.forEach((e=>{e.cellModel.isFlag?e.renderFlagCell():e.cellModel.isFlag||!1!==e.cellModel.isClose||0!==e.cellModel.numberInCell||e.cellModel.isMined?!e.cellModel.isFlag&&!e.cellModel.isClose&&e.cellModel.numberInCell>0&&e.renderNumberedCell():e.renderEmptyCell()})),this.timer.restart(t.time),t.subscribe("time",(()=>{i()}))}gameOverLose(e){t.duration=l().time,this.timer.stop(),this.disabledBoard(),this.showAllMined(e),t.setProperty("statusGame","lose"),i(),t.sound&&this.addSound("./assets/sounds/lose.mp3")}gameOverWin(){t.duration=l().time,this.timer.stop(),this.disabledBoard(),t.setProperty("gameStatus","win"),t.setProperty("sessionStatus","win"),i(),t.sound&&this.addSound("./assets/sounds/win.mp3"),this.saveInLS()}disabledBoard(){this.boardEl.classList.add("disabled")}clearBoard(){this.boardEl.innerHTML=""}showAllMined(e){this.cells.forEach((t=>{t.cellModel.isMined&&!t.cellModel.isFlag&&(t.renderMinedCell(),e.renderAsLoser()),!t.cellModel.isMined&&t.cellModel.isFlag&&t.renderAsError(),t.cellModel.isMined&&t.cellModel.isFlag&&t.renderFlagCell()}))}addSound(e){this.audio=new Audio(e),this.audio.play("")}saveInLS(){let e=l().results;this.resultObj={date:(new Date).toLocaleString(),level:`${t.numOfMines}/${t.boardSize}`,time:t.duration,moves:t.clicks},e.length>=10&&e.shift(),e||(e=[]),e.push(this.resultObj),t.setProperty("results",e),i()}}class M{constructor(e){this.className=e,this.screen=new m("screen")}render(){const e=document.createElement("main");e.className=this.className;const t=document.createElement("div");return t.className="container",e.appendChild(t),t.appendChild(this.screen.render()),t.appendChild(new v("board").render()),e}}const C=document.querySelector("body"),y=l();y&&(t.setProperty("theme",y.theme),t.setProperty("boardSize",y.boardSize),t.setProperty("numOfMines",y.numOfMines),t.setProperty("minesLeft",y.minesLeft),t.setProperty("usedFlags",y.usedFlags),t.setProperty("clicks",y.clicks),t.setProperty("results",y.results),t.setProperty("sound",y.sound)),C.className="dark"===t.theme?"dark":"light",t.subscribe("scoreIsActive",(()=>{t.scoreIsActive?C.classList.add("active"):C.classList.remove("active")})),t.subscribe("theme",(()=>{"light"===t.theme?(C.classList.remove("dark"),C.classList.add("light")):(C.classList.remove("light"),C.classList.add("dark"))}));const L=new class{constructor(e){this.className=e}render(){const e=document.createElement("div");return e.className=this.className,e.appendChild(new o("header").render()),e.appendChild(new M("main").render()),e}}("app");C.append(L.render())})();